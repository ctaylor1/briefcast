# Optional advanced WhisperX overrides.
# Copy this file to .env.whisperx and edit only what you need.
# docker-compose.yml can load that file via WHISPERX_ENV_FILE.

# Core model/runtime.
WHISPERX_MODEL=medium.en
WHISPERX_LANGUAGE=en
WHISPERX_DEVICE=auto
WHISPERX_COMPUTE_TYPE=auto
WHISPERX_BATCH_SIZE=0

# Decoder tuning.
WHISPERX_BEAM_SIZE=5
WHISPERX_PATIENCE=1
WHISPERX_CONDITION_ON_PREVIOUS_TEXT=true
WHISPERX_INITIAL_PROMPT="Podcast interview. Speakers are Host and Guest. Use punctuation and capitalization."

# VAD + alignment.
WHISPERX_VAD_CHUNK_SIZE=45
WHISPERX_VAD_ONSET=0.50
WHISPERX_VAD_OFFSET=0.50
WHISPERX_VAD_METHOD=pyannote
WHISPERX_ALIGN=true

# Speaker diarization.
WHISPERX_DIARIZATION_MODEL=pyannote/speaker-diarization-3.1
WHISPERX_MIN_SPEAKERS=2
WHISPERX_MAX_SPEAKERS=2
# Required only if diarization is enabled and pyannote is used.
WHISPERX_HF_TOKEN=

# Worker behavior.
WHISPERX_MAX_CONCURRENCY=1
WHISPERX_MAX_ITEMS=0
WHISPERX_RETRY_FAILED=false

# Optional runtime/script overrides.
WHISPERX_PYTHON=
WHISPERX_SCRIPT=
WHISPERX_TIMEOUT_SECONDS=7200
